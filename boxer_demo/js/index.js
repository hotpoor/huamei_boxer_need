// Generated by CoffeeScript 2.7.0
(function() {
  var Hs, root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  // !!!! Hotpoor root object
  root.Hs || (root.Hs = {});

  Hs = root.Hs;

  Hs.base_width = 750; //画面基础宽度

  Hs.base_height = 1334; //画面基础高度

  Hs.window_resize = function() { //设置一个叫做Hs.window_resize的方法
    var window_height;
    window_height = document.querySelector("body").offsetHeight; //获取body标签的当前高度
    Hs.current_width = window_height / Hs.base_height * Hs.base_width; //计算当前画面基础宽度
    Hs.current_height = window_height; //计算当前画面基础高度
    document.querySelector(".page").style.width = `${Hs.current_width}px`;
    return document.querySelector(".page").style.height = `${Hs.current_height}px`;
  };

  Hs.page_loading_flag_text_num = 0;

  (function() {
    Hs.page_2_finish_init = function() {
      document.querySelector(".page_2_finish").classList.add("page_finish_fade_in");
      document.querySelector(".page_2_finish").style.display = "block";
      document.querySelector(".page_2_finish").style.opacity = "1";
      document.querySelector(".page_media").classList.add("page_finish_fade_in");
      document.querySelector(".page_media").style.display = "block";
      document.querySelector(".page_media").style.opacity = "1";
      setTimeout(function() {
        return document.querySelector(".page_zheng").classList.add("page_word_fade_in");
      }, 1000);
      setTimeout(function() {
        return document.querySelector(".page_dang").classList.add("page_word_fade_in");
      }, 2000);
      setTimeout(function() {
        return document.querySelector(".page_sheng").classList.add("page_word_fade_in");
      }, 3000);
      setTimeout(function() {
        return document.querySelector(".page_qi").classList.add("page_word_fade_in");
      }, 4000);
      return setTimeout(function() {
        return document.querySelector(".page_shou").classList.add("page_word_fade_in");
      }, 5000);
    };
    Hs.page_1_finish = function() {
      document.querySelector(".page_1_finish").classList.add("page_finish_fade_out");
      return setTimeout(function() {
        return Hs.page_2_finish_init();
      }, 1000);
    };
    Hs.media_play = function() { //设置一个叫做Hs.media_play的方法
      return document.querySelector("#media").play(); //设置id为media标签播放
    };
    Hs.media_pasure = function() { //设置一个叫做Hs.media_pasure的方法
      return document.querySelector("#media").pause(); //设置id为media标签暂停
    };
    Hs.loading_animate_play = function() {
      var page_loading_flag_text_timer;
      document.querySelector(".page_loading_flag").classList.add("page_loading_flag_animate");
      return page_loading_flag_text_timer = setInterval(function() {
        Hs.page_loading_flag_text_num = Hs.page_loading_flag_text_num + 5;
        document.querySelector(".page_loading_flag_text").innerText = `Loading...${Hs.page_loading_flag_text_num}%`;
        if (Hs.page_loading_flag_text_num >= 100) {
          Hs.page_loading_flag_text_num = 100;
          clearInterval(page_loading_flag_text_timer);
          return Hs.page_1_finish();
        }
      }, 100);
    };
    window.addEventListener("load", function(evt) { //给window监听load事件
      Hs.window_resize(); //执行Hs.window_resize方法
      return Hs.loading_animate_play();
    });
    window.addEventListener("resize", function(evt) { //给window监听resize事件
      return Hs.window_resize(); //执行Hs.window_resize方法
    });
    return document.querySelector(".page_media").addEventListener("click", function(evt) {
      if (document.querySelector(".page_media").className.indexOf("page_dom_rotate") === -1) {
        document.querySelector(".page_media").classList.add("page_dom_rotate");
        return Hs.media_play();
      } else {
        document.querySelector(".page_media").classList.remove("page_dom_rotate");
        return Hs.media_pasure();
      }
    });
  })();

}).call(this);
